\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{codeEnvironment}

%===REQUIRED PACKAGE===
\RequirePackage[most]{tcolorbox}

%===ENVIRONMENT===
\newtcblisting[list inside=codelist,auto counter]{code}[2][]{
	sharp corners, fonttitle=\bfseries, colframe=gray, listing only, 
	listing options={basicstyle=\footnotesize\ttfamily,breaklines=true,escapechar=@}, 
	title=Listing \thetcbcounter: #2, #1}
%\begin{code}{title}

%===INPUT FILE===
\newtcbinputlisting[list inside=codelist,auto counter]{includecode}[3][]{
	listing file={#2},
	sharp corners, fonttitle=\bfseries, colframe=gray, listing only, 
	listing options={basicstyle=\footnotesize\ttfamily,breaklines=true,escapechar=@}, 
	title=Listing \thetcbcounter: \detokenize{#1}, #3 }
%Example: \includecode[this is the title]{code.txt}{label={code:snapshots}}

%%%END%%%%%%%%%%%%%%
\endinput%%